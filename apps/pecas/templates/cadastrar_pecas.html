{% extends 'base.html' %}  <!-- Estende o template base -->
{% load static %}  <!-- Mantém o carregamento de arquivos estáticos -->

{% block title %}Cadastrar Peça{% endblock %}  <!-- Define o título da página -->

{% block extra_css %}
    <!-- CSS específico para a página de Cadastrar Peça -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
{% endblock %}

{% block content %}
    <div class="container">
        <h1>Cadastrar Peça para SKU: {{ sku }}</h1>

        <!-- Exibe mensagens de sucesso/erro -->
        {% if messages %}
            {% for message in messages %}
                <p>{{ message }}</p>
            {% endfor %}
        {% endif %}

        <!-- Exibe as peças já cadastradas -->
        {% for peca in pecas %}
            <p>{{ peca.descricao }}</p>
        {% endfor %}

        <!-- Formulário de cadastro de peça -->
        <form method="POST">
            {% csrf_token %}

            <label for="sufixo">Sufixo:</label>
            <select name="sufixo" id="sufixo" required>
                <option value="">Selecione um sufixo</option>
                {% for sufixo in sufixos %}
                    <option value="{{ sufixo.sufixo }}">{{ sufixo.sufixo }}</option>
                {% endfor %}
            </select><br><br>

            <label for="posicao">Posição:</label>
            <input type="text" name="posicao" id="posicao" required><br><br>

            <label for="part_number">Part Number:</label>
            <input type="text" name="part_number" id="part_number" required><br><br>

            <label for="descricao">Descrição:</label>
            <input type="text" name="descricao" id="descricao" required><br><br>

            <label for="observacao">Observação:</label>
            <input type="text" name="observacao" id="observacao"><br><br>

            <button type="submit">Cadastrar</button>
        </form>
    </div>
{% endblock %}